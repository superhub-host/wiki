---
title: 'Настройка вайт-листа (белый список)'
description: 'Обучаемся созданию списка разрешённых игроков и управлению доступом к вашему серверу Minecraft'
---

Создание приватного сервера для друзей или закрытого сообщества всегда начинается с настройки белого списка. На лицензионных серверах это работает «из коробки», но как только вы переходите в режим [online-mode=false](/guides/online-mode), правила игры меняются.

В этой статье разберём, как настроить вайт-лист и систему блокировок на пиратском сервере так, чтобы посторонние не смогли помешать вашему выживанию.

## Что такое вайт-лист?

**Вайт-лист (белый список)** — это базовый инструмент администратора, который позволяет ограничить доступ к серверу. Если вайт-лист включен, зайти на сервер смогут только те игроки, чьи никнеймы были заранее внесены в список. 

Это идеальное решение для частных серверов вида «для своих» или на время проведения технических работ.

## Настройка вайт-листа

В ванильном ядре и его форках (Paper, Purpur, Fabric и т.п.) система белых списков встроена по умолчанию. Она работает на основе файла whitelist.json, который находится в корневой папке сервера.

### Как включить?

Существует два способа активации:

| Способ | Что нужно сделать? |
| ------ | ----------------- |
| Через консоль или игру | Введите команду /whitelist on. Чтобы выключить — /whitelist off |
| Через файл настроек | В файле server.properties найдите строку white-list=false и замените её на white-list=true. Чтобы изменения вступили в силу, сервер нужно перезагрузить |

### Управление вайт-листом

Для управления игроками используйте следующие команды:

| Команда | Что она делает? |
| ------- | --------------- |
| /whitelist add <никнейм> | добавить игрока в список |
| /whitelist remove <никнейм> | удалить игрока |
| /whitelist list | посмотреть всех игроков в списке |
| /whitelist reload | обновить список из файла (если вы вносили правки в whitelist.json вручную) |

## Выбор плагинов для контроля доступа

Стандартный вайт-лист в режиме online-mode=false иногда работает некорректно. Чтобы ванильная команда /whitelist add сработала правильно, игрок уже должен быть на сервере в момент её ввода, иначе сервер может привязать никнейм к неверному UUID.

!>  UUID — это уникальный цифровой «паспорт» игрока, состоящий из 32 шестнадцатеричных символов, по которому сервер узнает его и выдаёт вещи, статистику и т.п.

Для стабильной работы на пиратских серверах лучше использовать плагины, которые проверяют только текстовое совпадение никнейма:

- [EasyWhitelist](https://www.spigotmc.org/resources/easywhitelist-name-based-whitelist.65222/) — простая замена ванильному списку, работающая строго по никам.

- [SimpleWhiteList](https://modrinth.com/plugin/simplewhitelist) — легкое решение с возможностью настройки сообщений об отказе в доступе.

## Почему вайт-листа может быть недостаточно?

Многие новички совершают фатальную ошибку: включают вайт-лист, добавляют туда друзей и думают, что сервер в безопасности.

Поскольку на пиратском сервере любой может сменить свой никнейм в лаунчере за две секунды, злоумышленнику достаточно узнать никнейм одного из ваших друзей, который есть в белом списке. Он заходит под этим никнеймом и получает доступ ко всему его имуществу на сервере (и правам администратора, если этот друг был оператором).

?> Вайт-лист без плагина на авторизацию (например, AuthMe) — это «дырявый забор».

### Чтобы сделать ваш сервер безопаснее, на нём должно быть:

1. Плагин авторизации ([AuthMe](https://www.spigotmc.org/resources/authmereloaded.6269/), [LoginSecurity](https://www.spigotmc.org/resources/loginsecurity.19362/)) — чтобы подтвердить, что под ником зашёл именно его владелец.

2. Вайт-лист — чтобы ограничить круг лиц, которым в принципе разрешено вводить пароль.

## Типичные ошибки и их решение

### 1. You are not white-listed on this server!

**Причина:** Ник игрока не внесен в список, либо в файле whitelist.json закрепился неверный UUID (актуально для пиратских серверов).

**Решение:** Если используете ванильный список: попросите игрока зайти на сервер, и пока он «висит» в окне ошибки, пропишите в консоли "/whitelist add [Ник]".

!> Лучший вариант: Перейдите на плагин EasyWhitelist, который проверяет только буквы в нике, а не скрытые ID.

### 2. Failed to verify username

**Причина:** Вы пытаетесь зайти с пиратского лаунчера (TLauncher и др.) на сервер, где в настройках server.properties включен режим online-mode=true.

**Решение:** В файле настроек сервера [найдите строку online-mode](/guides/online-mode), измените её на false и перезапустите сервер.
