---
title: Как подключить базу данных к плагину AuthMe
description: Инструкция по подключению плагина к базе данных, на примере AuthMe.
---

# Зачем нужен MySQL? Лучше SQLite?

Начнем с того что вам вообще не нужен MySQL, если у вас **не** несколько серверов и/или нету 100 игроков постоянно, для создания нескольких серверов авторизации. Лучше используйте SQLite в качестве типа базы данных и не морочьте себе голову сотней проблем с MySQL.

Так же, хочу заметить что по умолчанию сервера Bungee не умеют работать с SQLite. Такую функцию нужно чтобы реализовал разработчик плагина. Если плагин не поддерживает SQLite, ничего не остается кроме как использовать MySQL.

# Отличия между MySQL и SQLite

### MySQL

Это тип базы данных которая позволяет иметь доступ к базе данных с разных мест, подключаясь по интернету.

### SQLite

Это просто локальный файл, который всегда лежит в папке с конфигурацией плагина, или в любом другом, не стандартном месте, которое указал разработчик. 

С SQLite вы всегда можете быть уверены что база данных доступна. Так как если сервер работает - доступ к файлам есть, а значит и к ДБ.

## Кардинальные отличия

В случае с MySQL не все так радужно, так как это отдельный сервер который хостится нами, он может иногда не работать.

Однако SQLite не позволяет например подсоединить несколько серверов авторизации к одной дата базе, в отличии от MySQL. И SQLite может не уцелеть в случае повреждения файлов сервера.

## Так что же выбирать?

Хочу так же заметить что SQLite бесплатен, в отличии от MySQL так что я думаю выбор очевиден:

**MySQL** - если вам нужно подключить несколько серверов к одной базе данных.

**SQLite** - в любом другом случае.

# Подключение SQLite

Обычно подключение SQLite не составляет никаких трудностей, просто пропишите в конфиге, тип базы данных - SQLite.

![Подключение SQLite в AuthMe](/images/guides/connect-db/connect-sqlite.png)

# Создание базы данных MySQL

Тут уже все сложнее, для начала вам нужно создать базу данных. Делается это в панели, вкладка "Базы данных" и нажмите "Создать Базу Данных".

Далее в этом окошке:

![Создание базы данных](/images/guides/connect-db/create-mysql.png)

Вы должны выбрать имя базы данных (можно любое на латинском языке) и список IP разрешенных для подключения.

После еще одного нажатия кнопки "Создать Базу Данных", вам выдаст примерно такую картину:

![База данных создана](/images/guides/connect-db/db_created.png)

### Разберем что тут написано

* `s12568_authme`

`12568` - Айди вашей ДБ и `authme` естественно это имя вашей базы данных.

* `5.188.140.117:3306 - Сервер`

Айпи адрес и порт для подключения к серверу MySQL. (`- Сервер` это надпись под данными)

* `% - Разрешённые подключения`

Список IP разрешенных для подключения, тоже самое, что вы указывали при создании.

* `u12568_eiIbMuRUuP - Пользователь`

Имя пользователя на сервере MySQL для подключения

## Кнопка "Смотреть больше"

![Кнопка "Смотреть Больше"](/images/guides/connect-db/show-more.png)

Этот глазок отвечает за просмотр более подробной информации, включая пароль от ДБ.

![Данные для подключения](/images/guides/connect-db/data-for-connect.png)

Тут вы можете увидеть те три поля которые мы видели уже раньше, и два новых. Хочу так же отметить что данные утратили свою актуальность, сразу после релиза статьи.

### Посмотрим на новые поля

* `gBWZgJh@=fA@Fn8ke5v6fQH+ - Пароль`

Думаю и так понятно, что это означает. Просто хочу отметить, что пароль отличается от пароля вашего аккаунта и не должен нигде использоваться, кроме как при подключении к базе данных.

* `jdbc:mysql://u12568_eiIbMuRUuP:gBWZgJh@=fA@Fn8ke5v6fQH+@5.188.140.117:3306/s12568_authme - Адрес для JDBC`

А вот тут вы можете не понять где применять эти данные.

Эти данные иногда применяются в плагинах, просто знайте, если увидете где то в конфигурации "JDBC", скорее всего речь идет именно об этой строке.

# Подключение

Теперь давайте наконец-то перейдем к делу. Так как об SQLite я уже рассказал ранее, далее вся статья будет о MySQL.

Хочу так же упомянуть, что AuthMe тут в качестве примера, обычно эти инструкции можно применить к любому плагину, поддерживающему MySQL.

Для начала зайдем в `/plugins/AuthMe/config.yml` и переключим тип базы данных. Заменим SQLITE на MYSQL:

![Сменим тип базы данных](/images/guides/connect-db/change-to-mysql.png)

Далее опустимся чуть ниже, и изменим айпи с портом:

![Стандартные значения для mySQLHost и Port](/images/guides/connect-db/standart-host-n-port.png)

Мы укажем значения из поля `Сервер`, у нас это `5.188.140.117:3306`. Как мы уже знаем по опыту с майнкрафтом, айпи указывается в формате `IP:port`, соотвественно в нашем случае IP будет `5.188.140.117` и порт `3306`.

![Наши значения для mySQLHost и Port](/images/guides/connect-db/our-host-n-port.png)

Двигаемся дальше, так как у нас тут не гайд по AuthMe, мы не будем объяснять значение каждой строки. Только то что, нужно для подключения MySQL, все остальное можете смело игнорировать, а если возникнет какая то ошибка - клиенты в нашей беседе (или дискорде) готовы вам помочь! В крайнем случае можете написать в тех поддержку.

![Поле для ввода пароля и имени пользователя](/images/guides/connect-db/standart-username-n-password.png)

Тут мы видим поля для ввода имени пользователя (поле `Имя пользователя`) и пароля (поле из панели `Пароль`). В нашем случае это `u12568_eiIbMuRUuP` и соотвественно `gBWZgJh@=fA@Fn8ke5v6fQH+`.

![Наши данные от ДБ](/images/guides/connect-db/our-username-n-password.png)

Перейдем к названию базы данных, и имени таблицы.

![Стандартные данные mySQLDatabase и Tablename](/images/guides/connect-db/standart-database-n-tablename.png)

В первый параметр нам нужно вставить значение имени базы данных, в нашем случае `s12568_authme`. А на втором мы остановимся чу-чуть поподробнее.

`mySQLTablename` отвечает за имя таблицы в базе данных, имя таблицы должно быть уникальным, так что если вы подключаете несколько плагинов к одной базе данных (что кстати крайне не рекомендовано) вы должны убедиться, что как минимум имя таблиц не будут совпадать ни в коем случае.

### Почему нельзя подключать несколько плагинов к одной базе данных?

Потому что некоторые плагины могут записывать данные в одно место, и даже не подозревать об этом. В таком случае, плагины постоянно будут перезаписывать данные друг друга, или вообще повреждать их.

Из всех полей мы не написали только JDBC. К сожалению AuthMe это не поддерживает, так что показать не на чем. Но принцип похожий, скопировал - вставил.

# Конец

Как вы видите, все очень легко. Удачи в настройке!
