---
title: Настройка Java Edition Proxy
description: Инструкция по настройке сети серверов.
---

BungeeCord — это прокси ядро для сервера Майнкрафт. Простыми словами, BungeeCord является шлюзом между вашими серверами, позволяет объединить несколько серверов Minecraft в один и даёт возможность перемещаться между серверами как по мирам.

## Схема
![Визуализация работы прокси в Minecraft](/images/guides/configure-proxy/proxy.png)

## Инструкция
Первым делом необходимо [купить](https://superhub.host/order/minecraft) отдельный сервер Java Edition Proxy. Можно выбрать любой форк BungeeCord'а, но мы рекомендуем FlameCord [(подробнее)](https://www.spigotmc.org/threads/flamecord-or-bungeecord.477560).

Если вы решите сменить ядро вашего прокси, достаточно [заменить](https://superhub.host/guides/change-version) предыдущий .jar файл новым.

Как только вы запустите сервер, BungeeCord сгенерирует необходимые файлы. Обратите внимание, что при их редактировании даже лишний пробел может сломать конфиг, поэтому есть смысл проверять его через [валидатор YAML](https://www.yamllint.com).

## Настройка
В панели управления прокси сервером перейдите во вкладку "Управление файлами" и откройте `config.yml`.

1. Если ваш сервер пиратский, найдите строку `online_mode` и замените `true` на `false`. Тогда проверка лицензии будет отключена.

2. В блоке `servers` укажите игровые сервера, которые будут подключены к данному прокси. Кажому серверу придумайте своё название и укажите адрес.

  ```yaml
  servers:
    lobby:
      motd: 'Лобби'
      address: 123.123.123.123:25567
      restricted: false
    survival:
      motd: '&1Выживание'
      address: 123.123.123.123:25568
      restricted: false
    minigames:
      motd: '&cСервер миниигр'
      address: 123.123.123.123:25569
      restricted: false
  ```

3. В блоке `priorities` укажите сервер, на который игрока будет подключать при заходе. В нем указываем название нужного сервера из пункта №3. Пример:

  ```yaml
  priorities:
  - lobby
  ```

4. Находим параметр `ip_forward: false` и меняем его значение на `true`. Далее на всех игровых серверах, подключаемых к прокси, открываем `spigot.yml` и меняем значение параметра `bungeecord: false` на `true`.

Более подробное описание всех параметров можно найти [здесь](https://www.spigotmc.org/wiki/bungeecord-configuration-guide).

## Возможные проблемы:
1. FlameCord: Country is blocked. (Страна заблокирована)
     По умолчанию у FlameCord включен чёрный список стран для подключения к серверу, поэтому у вас может не получиться зайти. Для отключения фильтра заходим в `flamecord.yml` и находим блок ниже. Ставим `enabled: false`:

  ```yaml
  antibot:
    country:
      enabled: true
  ```

2. Максимально возможное число игроков для входа = 1.
     Помимо игрового сервера лимит по количеству игроков нужно указать в `config.yml` на прокси в строке `max_players: 1`.

3. Сервер атакуют боты!
     [Настройте TCPShield](https://superhub.host/guides/configure-tcpshield) или поэкспериментируйте с настройками прокси. Например, в `modules.yml` включение пункта `reconnect:` заставит игрока переподключиться при первом заходе, чтобы доказать, что он человек. Также можно настроить **[BungeeGuard](https://www.spigotmc.org/resources/bungeeguard.79601)**.
