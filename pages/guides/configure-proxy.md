---
title: Настройка Java Edition Proxy
description: Инструкция по настройке сети серверов.
---

BungeeCord — это прокси ядро для сервера Майнкрафт. Простыми словами, BungeeCord является шлюзом между вашими серверами.

Пример: 
![Proxy!](/images/guides/configure-proxy/proxy.png "Прокси")

Первым делом необходимо купить отдельный сервер Java Edition Proxy **[(страница покупки)](https://superhub.host/order/minecraft)**. Можно выбрать любой форк BungeeCord'а, но я бы рекомендовал FlameCord.
Если вы решите сменить ядро вашего прокси, достаточно заменить предыдущий .jar файл новым. Подробная инструкция есть **[здесь](https://superhub.host/guides/change-version)**.

Как только вы запустите сервер, ядро сгенерирует необходимые файлы. Обратите внимание, что при их редактировании даже лишний пробел может сломать конфиг, поэтому можете проверять его через https://www.yamllint.com.

Настройка:
В панели управления прокси сервером перейдите во вкладку "Управление файлами" и откройте `config.yml`.
  1. Если ваш сервер пиратский, найдите строку `online_mode` и замените true на false. Тогда проверка лицензии будет отключена. 
  2. Ищем параметр: `host: 0.0.0.0:25577` и заменяем порт `25577` на порт своего прокси сервера.
  3. В блоке servers укажите игровые сервера, которые будут подключены к данному прокси. Кажому серверу придумайте своё название, и укажите их адрес.
    Пример:
```yaml 
servers:
  lobby:
    motd: 'Лобби'
    address: 94.26.248.95:25567
    restricted: false
  survival:
    motd: '&1Выживание'
    address: 91.206.15.18:25568
    restricted: false
  minigames:
    motd: '&cСервер миниигр'
    address: 91.206.15.18:25569
    restricted: false
```
  4. В блоке `priorities` укажите сервер, на который игрока будет подключать при заходе. В нем указываем название сервера из пункта №3.
    Пример:
```yaml 
  priorities:
  - lobby
```
  5. В завершение найдём параметр `ip_forward: false` и меняем его значение на `true`. Далее на всех игровых серверах, подключаемых к прокси, открываем spigot.yml и меняем значение параметра `bungeecord: false` на `true` (bungeecord: true)
    Эти манипуляции позволят защитить сервера от внешнего подключения и просто обязательны при настройке BungeeCord.
Более подробное описание всех параметров конфига можно найти **[здесь](https://www.spigotmc.org/wiki/bungeecord-configuration-guide)**.

Возможные проблемы: 
  1. FlameCord: Country is blocked. (Страна заблокирована)
    По умолчанию у FlameCord включен чёрный список стран для подключения к серверу, поэтому у вас может не получиться зайти. Для отключения фильтра заходим в flamecord.yml и находим блок ниже. Ставим `enabled: false`
```yaml 
  antibot:
    country:
      enabled: true
```
  2. Максимально возможное число игроков для входа = 1. 
    Помимо игрового сервера это нужно изменить в config.yml на прокси в строке `max_players: 1`.
  3. Сервер атакуют боты!
    Настройке TCPShield **[(инструкция)](https://superhub.host/guides/configure-tcpshield)** или поэкспериментируйте с настройками прокси. Например, в modules.yml включение пункта `reconnect:` заставит игрока переподключиться при первом заходе, чтобы доказать, что он человек. Также можно настроить **[BungeeGuard](https://superhub.host/guides/configure-tcpshield)**.
