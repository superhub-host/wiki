---
title: Планировщик задач в панели
description: В панели предусмотрено создание задач, которые будут автоматически выполняться с определённой периодичностью. Вы можете настроить выполнение заранее заданных команд в определённое время.
---

В панели предусмотрено создание расписаний, которые будут автоматически выполняться с определённой периодичностью. Вы можете настроить выполнение заранее заданных команд в определённое время. Все настройки планировщика задач находятся во вкладке "Расписание" в меню панели.

## Автоматические рестарты
Для примера настроим автоматические перезапуски сервера раз в день.
Перейдите во вкладку "Расписание". Мы видим, что планировщик задач не настроен.

![Пустой планировщик задач](/images/crontab/empty.png)

Нажмём "Создать расписание" в правом нижнем углу.

![Экран создания нового расписания](/images/crontab/create-schedule.png)

При желании можно указать название расписания. Настоятельно рекомендуем это сделать: это поможет не запутаться, когда Вы будете иметь большое количество расписаний.

Далее следует заполнить поля "День недели", "День месяца", "Час дня", "Минута часа". Расписание будет запущено только тогда, когда все условия выполняются. В нашем примере рестарт будет проводиться в любой день недели, поэтому укажем `*`. Если проводить перезапуск следует только в определённые дни, перечислите их через запятую (например, при указании в поле "День недели" значения `3,5,7`, расписание будет запускаться только по средам, пятницам и воскресеньям). Рестарт не будет зависеть и от дня месяца, поэтому, в соотвествующем поле тоже укажем `*`.

Предположим, что мы хотим, чтобы сервер перезапускался ровно в полночь по МСК, а за минуту до этого всем игрокам выводилось предупреждение. Соответственно, первое действие должно быть выполнено в 23:59. Поэтому, в поле "Час дня" мы указываем `23`, а в "Минута часа" - `59`

Для более точной настройки времени выполнения задач вы можете использовать гуру от кронтаба: https://crontab.guru/ .
Он поможет вам в настройке ваших задач и их выполнения по времени, а теперь продолжим.

![Время выполнения расписания](/images/crontab/execution-time.png)

Теперь нажмите "Создать". Как только окно закроется, в списке на странице "Расписание" появится наше новое расписание. Кликните по нему, чтобы посмотреть список задач, которые будут выполняться.

![Список задач](/images/crontab/task-list.png)

После того как мы задали время, мы должны указать, какие команды должны быть выполнены в консоли. Сначала оповестим игроков. Для этого создадим новую задачу с помощью кнопки "Создать задачу" в правом нижнем углу страницы. Оставим параметры по умолчанию (Действие - "Отправить команду", задержка - "0"), чтобы команда отправлялась ровно в 23:59:00. В поле "Команда" мы должны ввести команду, которую хотим выполнить. В нашем случае это будет `say Рестарт через одну минуту`. Нажмите "Создать задачу", чтобы добавить её в расписание.

![Создание задачи](/images/crontab/new-task.png)

Через минуту после выполнения предыдущей команды следует предупредить игроков, что прямо сейчас сервер выключится. Поэтому, вновь нажмём "Создать задачу" в правом нижнем углу. Второе предупреждение должно отобразиться ровно через минуту после первого, поэтому, в поле "Задержка" указываем значение `60`. В поле "Команда" указываем команду: `say Рестарт через три секунды`.

Когда мы хотим создать третью задачу, стоит понимать, что время, которое мы укажем, будет отсчитываться не от момента запуска первой задачи, а от момента запуска предыдущей задачи. Поэтому, при создании последней задачи укажем в поле "Задержка" значение `3`. Когда мы хотим перезапустить сервер, рекомендую не использовать команду `restart` и ей подобные, а выбрать "Изменить состояние" и указать действие "Перезапустить сервер".

![Итоговые настройки расписания](/images/crontab/final-schedule.png)

После того как расписание создано, на сервере будут автоматически проводиться перезапуски по заданному нами алгоритму в указанное время.
